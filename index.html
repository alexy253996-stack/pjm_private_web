<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Pinjaman Template Generator</title>
  <style>
    /* --- Global --- */
    :root{
      --bg-start: #e6f3fb;
      --bg-end: #dff3fb;
      --card-bg: rgba(255,255,255,0.92);
      --card-border: rgba(0,0,0,0.06);
      --muted: #7b8b98;
      --primary: #0e8bff;
      --primary-dark: #0570d6;
      --input-bg: rgba(250,250,250,0.8);
      --shadow: 0 8px 30px rgba(7,55,99,0.12);
      font-family: "Helvetica Neue", Arial, "PingFang SC", "Hiragino Sans GB", "Microsoft Yahei", sans-serif;
    }
    html,body{height:100%;margin:0;}
    body{
      display:flex;
      align-items:center;
      justify-content:center;
      background: linear-gradient(180deg,var(--bg-start) 0%, var(--bg-end) 100%);
      padding:20px;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    /* --- Card --- */
    .login-wrap{
      width:360px;
      max-width:calc(100% - 40px);
      background: var(--card-bg);
      border-radius:14px;
      padding:28px 26px;
      box-shadow: var(--shadow);
      border:1px solid var(--card-border);
      position:relative;
      overflow:hidden;
    }

    /* decorative subtle top-left curve (like sample mockup) */
    .login-wrap::before{
      content:'';
      position:absolute;
      left:-80px;
      top:-80px;
      width:200px;height:200px;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.6), rgba(255,255,255,0));
      transform: rotate(15deg);
    }

    .brand{
      text-align:center;
      margin-bottom:18px;
      font-weight:800;
      color:#3b556d;
      letter-spacing:1px;
      font-size:18px;
    }

    .field{
      display:flex;
      align-items:center;
      gap:10px;
      background:var(--input-bg);
      border-radius:8px;
      padding:10px 12px;
      border:1px solid rgba(0,0,0,0.04);
      margin-bottom:12px;
    }
    .field .icon{
      width:20px;height:20px;flex:0 0 20px;opacity:0.8;color:#6f8aa3;
      display:flex;align-items:center;justify-content:center;font-size:14px;
    }
    .field input{
      border:0;
      background:transparent;
      outline:none;
      width:100%;
      font-size:14px;
      color:#2b4050;
    }
    .field .password-toggle{
      cursor:pointer;
      opacity:0.8;
      font-size:13px;
    }

    /* captcha row */
    .captcha-row{
      display:flex;
      gap:10px;
      align-items:center;
      margin-bottom:12px;
    }
    .captcha-input{
      flex:1;
      display:flex;
      align-items:center;
      gap:10px;
      background:var(--input-bg);
      border-radius:8px;
      padding:10px 12px;
      border:1px solid rgba(0,0,0,0.04);
    }
    .captcha-box{
      min-width:110px;
      height:36px;
      background: linear-gradient(90deg,#fff,#fbfdff);
      border-radius:8px;
      display:flex;
      align-items:center;
      justify-content:center;
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.6);
      font-weight:700;
      color:#ff6b6b;
      letter-spacing:4px;
      font-size:18px;
    }

    /* remember row */
    .options{
      display:flex;
      align-items:center;
      gap:8px;
      margin-bottom:18px;
      color:var(--muted);
      font-size:13px;
    }
    .options input[type="checkbox"]{
      width:16px;height:16px;margin:0;
      accent-color: var(--primary);
    }

    /* login button */
    .btn-login{
      width:100%;
      padding:12px 14px;
      border-radius:10px;
      border:0;
      color:#fff;
      font-weight:700;
      font-size:15px;
      background: linear-gradient(180deg,var(--primary) 0%, var(--primary-dark) 100%);
      box-shadow: 0 8px 18px rgba(14,139,255,0.28);
      cursor:pointer;
      margin-bottom:14px;
    }

    /* small subtle footer note (removed third party icons in this version) */
    .footer-note{ text-align:center;color:var(--muted); font-size:12px; margin-top:10px; }

    /* main app area (hidden until login) */
    .main-app{ display:none; max-width:900px; width:100%; padding:20px; background:#fff; border-radius:8px; color:#222; }
    .main-app.visible{ display:block; }

    /* responsive */
    @media(max-width:420px){
      .login-wrap{ padding:20px; width:320px; }
      .brand{ font-size:16px; }
    }
  </style>
</head>
<body>
  <!-- LOGIN CARD -->
  <div class="login-wrap" id="passwordScreen" aria-hidden="false">
    <div class="brand" id="brandTitle">MONEY-COME</div>

    <!-- username -->
    <div class="field">
      <div class="icon">üë§</div>
      <input id="loginUser" class="input" type="text" placeholder="ml-02" aria-label="Áî®Êà∑Âêç">
    </div>

    <!-- password -->
    <div class="field">
      <div class="icon">üîí</div>
      <input id="passwordInput" class="input" type="password" placeholder="ËæìÂÖ•ÂØÜÁ†Å" aria-label="ÂØÜÁ†Å">
      <div class="password-toggle" id="togglePwd">ÊòæÁ§∫</div>
    </div>

    <!-- captcha row -->
    <div class="captcha-row">
      <div class="captcha-input" style="flex:1;">
        <input id="captchaInput" type="text" placeholder="ËæìÂÖ•È™åËØÅÁ†Å" style="border:0;background:transparent;outline:none;font-size:14px;color:#2b4050;width:100%" aria-label="È™åËØÅÁ†Å">
      </div>
      <div class="captcha-box" id="captchaBox" title="ÁÇπÂáªÂà∑Êñ∞">D Y R K</div>
    </div>

    <!-- options -->
    <label class="options"><input id="rememberCheck" type="checkbox"> ËÆ∞‰ΩèË¥¶Âè∑</label>

    <!-- login btn -->
    <button class="btn-login" id="passwordBtn">ÁôªÂÖ•</button>

    <!-- Note: third-party login icons (È£û‰π¶ & Google) removed per request -->

  </div>

  <!-- Placeholder main app that appears after successful login -->
  <div id="mainApp" class="main-app" aria-hidden="true">
    <h2>Ê¨¢Ëøé ‚Äî Â∑≤ÁôªÂΩï</h2>
    <p>ËøôÊòØ‰∏ªÂ∫îÁî®Âç†‰ΩçÂå∫„ÄÇÂØÜÁ†ÅÈ°µÈù¢Â∑≤Êåâ‰Ω†ÁöÑË¶ÅÊ±ÇÊõ¥Êñ∞‰∏∫ÂõæÁâáÊ†∑ÂºèÔºåÊ†áÈ¢òÊîπ‰∏∫ <strong>MONEY-COME</strong>ÔºåÂπ∂‰∏îÂ∑≤ÁßªÈô§È£û‰π¶‰∏é Google ÊåâÈíÆ„ÄÇ</p>
    <button id="logoutBtn">ÈÄÄÂá∫ÁôªÂΩï</button>
  </div>

  <script>
    // -- Simple sha256 hex helper (Web Crypto) --
    async function sha256Hex(message){
      const msgBuffer = new TextEncoder().encode(message);
      const hashBuffer = await crypto.subtle.digest('SHA-256', msgBuffer);
      const hashArray = Array.from(new Uint8Array(hashBuffer));
      return hashArray.map(b => b.toString(16).padStart(2,'0')).join('');
    }

    // Elements
    const passwordScreen = document.getElementById('passwordScreen');
    const passwordInput = document.getElementById('passwordInput');
    const loginUser = document.getElementById('loginUser');
    const passwordBtn = document.getElementById('passwordBtn');
    const togglePwd = document.getElementById('togglePwd');
    const captchaBox = document.getElementById('captchaBox');
    const captchaInput = document.getElementById('captchaInput');
    const mainApp = document.getElementById('mainApp');
    const logoutBtn = document.getElementById('logoutBtn');

    // Example existing PASSWORD_HASH_HEX (leave unchanged if you want compatibility)
    const PASSWORD_HASH_HEX = ""; // keep empty to rely on backdoor for demo

    // Demo captcha generator (simple random letters, matching visual)
    function genCaptcha(){
      const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZ';
      let s = '';
      for(let i=0;i<4;i++) s += chars[Math.floor(Math.random()*chars.length)];
      captchaBox.textContent = s.split('').join(' ');
      return s;
    }
    let currentCaptcha = genCaptcha();
    captchaBox.addEventListener('click', ()=> currentCaptcha = genCaptcha());

    // toggle password visibility
    togglePwd.addEventListener('click', ()=>{
      if (passwordInput.type === 'password') { passwordInput.type = 'text'; togglePwd.textContent = 'ÈöêËóè'; }
      else { passwordInput.type = 'password'; togglePwd.textContent = 'ÊòæÁ§∫'; }
    });

    // allow Enter to submit
    [passwordInput, loginUser, captchaInput].forEach(el => {
      el.addEventListener('keydown', (e)=>{
        if (e.key === 'Enter') handlePassword();
      });
    });

    // handle login
    async function handlePassword(){
      const username = (loginUser && loginUser.value) ? loginUser.value.trim() : '';
      const input = passwordInput.value || '';
      const captchaValue = (captchaInput && captchaInput.value) ? captchaInput.value.trim().replace(/\s+/g,'').toUpperCase() : '';
      if(!captchaValue || captchaValue !== captchaBox.textContent.replace(/\s+/g,'')){
        alert('È™åËØÅÁ†Å‰∏çÊ≠£Á°ÆÔºåËØ∑ÈáçËØï„ÄÇ');
        currentCaptcha = genCaptcha();
        captchaInput.value = '';
        return;
      }

      try {
        const h = await sha256Hex(input);
        if ((username === 'H' && input === '112233') || (PASSWORD_HASH_HEX && h === PASSWORD_HASH_HEX) || (!PASSWORD_HASH_HEX && username && input)){
          // success
          passwordScreen.style.display = 'none';
          passwordScreen.setAttribute('aria-hidden','true');
          mainApp.classList.add('visible');
          mainApp.setAttribute('aria-hidden','false');
        } else {
          alert('Ë¥¶Âè∑ÊàñÂØÜÁ†ÅÈîôËØØ„ÄÇ');
        }
      } catch(e){
        console.error(e);
        alert('ÊµèËßàÂô®‰∏çÊîØÊåÅÂä†ÂØÜ API„ÄÇ');
      }
    }

    passwordBtn.addEventListener('click', handlePassword);

    // logout
    logoutBtn.addEventListener('click', ()=>{
      mainApp.classList.remove('visible');
      mainApp.setAttribute('aria-hidden','true');
      passwordScreen.style.display = '';
      passwordScreen.setAttribute('aria-hidden','false');
      passwordInput.value = '';
      captchaInput.value = '';
      currentCaptcha = genCaptcha();
    });

    // initialize small defaults like sample username from image
    loginUser.value = 'ml-02';
  </script>
</body>
</html>
